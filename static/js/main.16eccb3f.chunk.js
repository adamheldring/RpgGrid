(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{189:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(64),i=a.n(o),c=a(25),l=a(20),d=a(21),s=a(23),u=a(22),b=a(24),g=a(4),x=a(66),h=a.n(x);var f=Object(g.DropTarget)("tile",{drop:function(e,t,a){return{rowIndex:e.rowIndex,boxIndex:e.boxIndex}}},function(e,t){return{connectDropTarget:e.dropTarget(),hovered:t.isOver(),tile:t.getItem()}})(function(e){var t=e.rowIndex,a=e.boxIndex,n=e.boxSide,o=e.value,i=e.handleBoxClick,c=e.tiles,l=e.clickEnabled,d=e.connectDropTarget,s=e.hovered?"lightgreen":"";return d(r.a.createElement("div",{onClick:l&&function(){return i(t,a)},className:"grid__box",style:{width:"".concat(n,"px"),heigth:"".concat(n,"px"),backgroundColor:"".concat(s)}},o>0&&r.a.createElement("img",{className:"grid__box--image",src:"./tiles/".concat(c[o].content,".png"),alt:"Tile"})))}),p=function(e){var t=e.boxSide,a=e.boardWidth,n=e.boardHeight,o=e.boxMatrix,i=e.tiles,c=e.boardRef,l=e.handleBoxClick,d=e.clickEnabled,s=Math.floor(a/t),u=Math.floor(n/t);return r.a.createElement("div",{className:"gridWrapper",ref:c},r.a.createElement("div",{className:"grid",style:{width:s*t,height:u*t,gridTemplateColumns:"repeat(auto-fill, ".concat(t,"px)"),gridTemplateRows:"repeat(auto-fill, ".concat(t,"px)")}},o.map(function(e,a){return a<u?e.map(function(e,n){return n<s?r.a.createElement(f,{rowIndex:a,boxIndex:n,boxSide:t,value:e,tiles:i,key:n,handleBoxClick:function(e,t){return l(e,t)},clickEnabled:d}):null}):null})))},m=a(68),k=a(67),v=a.n(k);var E=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isDragging,a=e.connectDragSource,n=e.tile,o=t?.5:1;return a(r.a.createElement("div",{className:"grid-box",style:{border:"2px solid #444444",padding:"5px",width:"75px",heigth:"75px",marginBottom:"10px",cursor:"pointer"}},r.a.createElement("img",{style:{opacity:"".concat(o)},className:"grid__box--image",src:"./tiles/".concat(n.content,".png"),alt:"Tile"})))}}]),t}(r.a.Component),S=Object(g.DragSource)("tile",{beginDrag:function(e){return e.tile},endDrag:function(e,t,a){if(t.didDrop())return e.handleTileDrop(e.tile.content,t.getDropResult())}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(E),w=(a(188),function(e){var t=e.boxSide,a=e.setBoxSide,o=e.background,i=e.setBackground,c=e.tiles,l=e.handleTileDrop,d=e.clickEnabled,s=e.toggleClickEnabled,u=Object(n.useState)(!1),b=Object(m.a)(u,2),g=b[0],x=b[1];return r.a.createElement("div",{className:"toolbar__wrapper"},r.a.createElement("div",{className:"toolbar__toggle",onClick:function(){return x(!g)}},r.a.createElement("i",{className:"fab fa-fort-awesome"})),r.a.createElement("div",{className:"toolbar ".concat(g?"":"toolbar--collapsed")},r.a.createElement("select",{style:{marginBottom:"20px"},name:"backgroundPicker",id:"backgroundPicker",value:o,onChange:function(e){return i(e.target.value)}},r.a.createElement("option",{value:"grass"},"Meadow"),r.a.createElement("option",{value:"water"},"Water"),r.a.createElement("option",{value:"forest"},"Forest"),r.a.createElement("option",{value:"desert"},"Desert")),r.a.createElement("div",{className:"toolbar__tiles"},r.a.createElement("div",{className:"tile"},c.map(function(e,t){if(0!==t)return r.a.createElement(S,{tile:e,handleTileDrop:function(e,t){return l(e,t)}})}))),r.a.createElement("div",{className:"toolbar__slider--wrapper"},r.a.createElement(v.a,{labels:{50:"S",100:"M",150:"L"},className:"toolbar__slider",min:50,max:150,orientation:"vertical",value:t,onChange:function(e){return a(e)}})),r.a.createElement("button",{className:"toolbar__button",onClick:s},d?"Disable click":"Enable click")))}),M=20,B=[{content:""},{content:"rock"},{content:"water"},{content:"tree"}],D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={boxSide:100,boardHeight:0,boardWidth:0,boxMatrix:[],background:"grass",clickEnabled:!1},a.setBoxSide=function(e){a.setState({boxSide:e},function(){return a.updateBoxMatrix()})},a.setBackground=function(e){a.setState({background:e})},a.updateBoardSize=function(){var e=a.boardRef.current,t=e.clientHeight,n=e.clientWidth;a.setState({boardWidth:n-M,boardHeight:t-M},function(){0===a.state.boxMatrix.length?a.createBoxMatrix():a.updateBoxMatrix()})},a.createBoxMatrix=function(){for(var e=a.state,t=e.boardWidth,n=e.boardHeight,r=e.boxSide,o=Math.floor(t/r),i=Math.floor(n/r),c=[],l=0;l<i;l++)c.push(new Array(o).fill(0));a.setState({boxMatrix:c})},a.updateBoxMatrix=function(){var e=a.state,t=e.boardWidth,n=e.boardHeight,r=e.boxMatrix,o=e.boxSide,i=Math.floor(t/o),l=Math.floor(n/o),d=Object(c.a)(r);if(i>d[0].length)for(var s=i-d[0].length,u=0;u<s;u++)d.forEach(function(e){e.push(0)});if(l>d.length)for(var b=l-d.length,g=0;g<b;g++)d.push(new Array(d[0].length).fill(0));a.setState({boxMatrix:d})},a.handleBoxClick=function(e,t){var n=Object(c.a)(a.state.boxMatrix);n[e][t]=(n[e][t]+1)%4,a.setState({boxMatrix:n})},a.handleTileDrop=function(e,t){var n,r=Object(c.a)(a.state.boxMatrix);switch(e){case"rock":n=1;break;case"water":n=2;break;case"tree":n=3;break;default:n=0}r[t.rowIndex][t.boxIndex]=n,a.setState({boxMatrix:r})},a.toggleClickEnabled=function(){a.setState({clickEnabled:!a.state.clickEnabled})},a.boardRef=r.a.createRef(),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateBoardSize),this.updateBoardSize()}},{key:"render",value:function(){var e=this,t=this.state,a=t.boxSide,n=t.boardWidth,o=t.boardHeight,i=t.boxMatrix,c=t.background,l=t.clickEnabled;return r.a.createElement("div",{className:"mainWrapper",style:{backgroundImage:"url(./bg/".concat(c,".jpeg)")}},r.a.createElement(w,{boxSide:this.state.boxSide,setBoxSide:function(t){return e.setBoxSide(t)},background:c,setBackground:function(t){return e.setBackground(t)},tiles:B,handleTileDrop:function(t,a){return e.handleTileDrop(t,a)},clickEnabled:l,toggleClickEnabled:this.toggleClickEnabled}),r.a.createElement(p,{boardRef:this.boardRef,boxSide:a,boardWidth:n,boardHeight:o,boxMatrix:i,tiles:B,handleBoxClick:function(t,a){return e.handleBoxClick(t,a)},clickEnabled:l}))}}]),t}(r.a.Component),C=Object(g.DragDropContext)(h.a)(D);a(189);i.a.render(r.a.createElement(C,null),document.getElementById("root"))},69:function(e,t,a){e.exports=a(190)}},[[69,1,2]]]);
//# sourceMappingURL=main.16eccb3f.chunk.js.map