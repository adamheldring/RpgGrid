(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(49)},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(26),c=a.n(r),i=a(17),l=a(21),d=a(5),s=a(6),u=a(8),b=a(7),g=a(9),p=a(51),x=a(30),m=a(31),f=a(20),h=a(53),v=a(52),k={beginDrag:function(e){return Object(i.a)({tileCoordinates:e.tileCoordinates},e.tile)},endDrag:function(e,t,a){return t.didDrop()?t.getDropResult().boxIndex!==e.tileCoordinates.col||t.getDropResult().rowIndex!==e.tileCoordinates.row?e.handleBoxClear(e.tileCoordinates.row,e.tileCoordinates.col):null:e.handleBoxClear(e.tileCoordinates.row,e.tileCoordinates.col)},canDrag:function(e,t){return!e.locked}};var y=function(e){function t(){return Object(d.a)(this,t),Object(u.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tile,a=e.boxSide,o=e.isDragging,r=e.connectDragSource,c=e.hovered,i=e.locked;return r(n.a.createElement("div",{className:"".concat(o||i?"":"occupied-tile__wrapper--highlight"),style:{position:"relative",cursor:i?"auto":"pointer"}},n.a.createElement("img",{className:"grid__box--image",style:{position:"relative",top:"2px"},src:"./tiles/".concat(t.content,".png"),alt:"Tile"}),n.a.createElement("div",{className:"occupied-tile__editframe",style:{position:"absolute",top:"-2px",left:"-4px",border:"4px solid yellow",width:"".concat(a-4,"px "),height:"".concat(a-4,"px")}}),o&&n.a.createElement("div",{style:{position:"absolute",top:"2px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"".concat(c?"yellow":"red"),opacity:"0.5",width:"".concat(a-4,"px "),height:"".concat(a-4,"px")}},!c&&n.a.createElement("i",{className:"fas fa-minus",style:{color:"white",fontSize:"".concat(a/2,"px")}}))))}}]),t}(n.a.Component),E=Object(v.a)("tile",k,function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(y);var S=Object(h.a)("tile",{drop:function(e,t,a){return{rowIndex:e.rowIndex,boxIndex:e.boxIndex}}},function(e,t){return{connectDropTarget:e.dropTarget(),tile:t.getItem(),hovered:t.isOver(),dragToDelete:t.getItem()&&!!t.getItem().tileCoordinates}})(function(e){var t=e.rowIndex,a=e.boxIndex,o=e.boxSide,r=e.value,c=e.handleBoxClear,i=e.tiles,l=e.locked,d=e.connectDropTarget,s=e.hovered,u=e.dragToDelete,b=s&&!u?"lightgreen":"",g={row:t,col:a};return d(n.a.createElement("div",{className:"grid__box",style:{width:"".concat(o,"px"),heigth:"".concat(o,"px"),backgroundColor:"".concat(b),opacity:s&&!u?"0.6":"1"}},s&&!u&&n.a.createElement("i",{className:"fas fa-plus",style:{fontSize:"".concat(o/2,"px"),position:"absolute"}}),r>0&&n.a.createElement(E,{tile:i[r],boxSide:o,tileCoordinates:g,handleBoxClear:c,dragToDelete:u,hovered:s,locked:l})))}),w=function(e){var t=e.boxSide,a=e.boardWidth,o=e.boardHeight,r=e.boxMatrix,c=e.tiles,i=e.boardRef,l=e.handleBoxClear,d=e.locked,s=Math.floor(a/t),u=Math.floor(o/t);return n.a.createElement("div",{className:"gridWrapper",ref:i},n.a.createElement("div",{className:"grid",style:{width:s*t,height:u*t,gridTemplateColumns:"repeat(auto-fill, ".concat(t,"px)"),gridTemplateRows:"repeat(auto-fill, ".concat(t,"px)")}},r.map(function(e,a){return a<u?e.map(function(e,o){return o<s?n.a.createElement(S,{rowIndex:a,boxIndex:o,boxSide:t,value:e,tiles:c,key:o,handleBoxClear:function(e,t){return l(e,t)},locked:d}):null}):null})))},C=a(24),D=a(29),O=a.n(D);var j=function(e){function t(){return Object(d.a)(this,t),Object(u.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isDragging,a=e.connectDragSource,o=e.tile,r=e.locked,c=t?.5:1;return a(n.a.createElement("div",{style:{marginBottom:"10px"}},n.a.createElement("div",{className:"grid-box",style:{border:"2px solid #666666",padding:"0",width:"75px",height:"75px",cursor:"pointer",opacity:r?"0.5":"1"}},n.a.createElement("img",{style:{opacity:"".concat(c)},className:"grid__box--image",src:"./tiles/".concat(o.content,".png"),alt:"Tile"}))))}}]),t}(n.a.Component),_=Object(v.a)("tile",{beginDrag:function(e){return e.tile},endDrag:function(e,t,a){if(t.didDrop())return e.handleTileDrop(e.tile.content,t.getDropResult())},canDrag:function(e,t){return!e.locked}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(j),B=(a(47),function(e){var t=e.boxSide,a=e.setBoxSide,r=e.background,c=e.setBackground,i=e.tiles,l=e.handleTileDrop,d=e.locked,s=e.toggleLocked,u=Object(o.useState)(!0),b=Object(C.a)(u,2),g=b[0],p=b[1],x=Object(o.useState)(!0),m=Object(C.a)(x,2),f=m[0],h=m[1];return n.a.createElement("div",{className:"toolbar__wrapper",style:{right:"".concat(f?"0":"calc(100vw - var(--toolbar-width))")}},n.a.createElement("div",null,n.a.createElement("button",{className:"toolbar__toggle",style:f?{right:"20px",backgroundColor:"".concat(g?"var(--primary-color)":"black"),transform:"".concat(g?"scale(1.3)":"")}:{left:"20px",backgroundColor:"".concat(g?"var(--primary-color)":"black"),transform:"".concat(g?"scale(1.3)":"")},onClick:function(){return p(!g)}},n.a.createElement("i",{className:g?"fa fa-times":"fab fa-fort-awesome"})),g&&n.a.createElement("button",{className:"toolbar__toggle",style:f?{left:"20px",backgroundColor:"".concat(g?"#2e90db":"black"),transform:"".concat(g?"scale(1.3)":"")}:{right:"20px",backgroundColor:"".concat(g?"#2e90db":"black"),transform:"".concat(g?"scale(1.3)":"")},onClick:function(){return h(!f)}},n.a.createElement("i",{className:"fa fa-arrow-".concat(f?"left":"right")}))),n.a.createElement("div",{className:"toolbar ".concat(g?"":"toolbar--collapsed")},n.a.createElement("select",{style:{display:"inline-block",width:"164px",margin:"0px 20px 20px 20px",opacity:d?"0.7":"1"},className:"toolbar__custom-select",name:"backgroundSelect",id:"backgroundSelect",value:r,onChange:function(e){return c(e.target.value)}},n.a.createElement("option",{value:"grass",disabled:d},"\u2618 MEADOW"),n.a.createElement("option",{value:"forest",disabled:d},"\ud83c\udf32 FOREST"),n.a.createElement("option",{value:"desert",disabled:d},"\ud83c\udfdc DESERT"),n.a.createElement("option",{value:"water",disabled:d},"\ud83c\udf0a OCEAN")),n.a.createElement("div",{className:"toolbar__tiles"},i.map(function(e,a){return 0!==a?n.a.createElement(_,{key:a,tile:e,boxSide:t,locked:d,handleTileDrop:function(e,t){return l(e,t)}}):void 0})),n.a.createElement("div",{className:"toolbar__slider--wrapper",style:{opacity:d?"0.7":"1"}},n.a.createElement(O.a,{labels:{50:"S",100:"M",150:"L"},className:"toolbar__slider",min:50,max:150,step:5,orientation:"vertical",value:t,onChange:function(e){!d&&a(e)}})),n.a.createElement("button",{className:"toolbar__lock-button ".concat(d?"toolbar__lock-button--locked":""),onClick:s,style:{backgroundColor:"".concat(d?"var(--warning-color)":"var(--primary-color)")}},n.a.createElement("i",{className:"fa fa-".concat(d?"lock":"lock-open"),style:{paddingLeft:"".concat(d?"0":"7.5px")}}),n.a.createElement("div",{style:{fontSize:"10px",marginTop:"4px"}}))))}),M=function(e){e.itemType;var t=e.item,a=e.style,o=e.boxSide;return n.a.createElement("div",{style:a},n.a.createElement("div",{className:"grid-box"},n.a.createElement("img",{style:{width:o,height:o,opacity:"0.6"},src:"./tiles/".concat(t.content,".png"),alt:"Tile"})))},N={backends:[{backend:x.a},{backend:m.a,options:{enableMouseEvents:!0},preview:!0,transition:f.b}]},T=20,I=[{content:""},{content:"water-sq"},{content:"lava-sq"},{content:"stone-sq"},{content:"cryptic-sq"},{content:"stairs"},{content:"barrel"},{content:"tree-1"},{content:"tree-2"},{content:"rock-1"},{content:"rock-2"}],R=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(b.a)(t).call(this,e))).state={boxSide:100,boardHeight:0,boardWidth:0,boxMatrix:[],background:"grass",locked:!1},a.setBoxSide=function(e){a.setState({boxSide:e},function(){return a.updateBoxMatrix()})},a.setBackground=function(e){a.setState({background:e})},a.updateBoardSize=function(){var e=a.boardRef.current,t=e.clientHeight,o=e.clientWidth;a.setState({boardWidth:o-T,boardHeight:t-T},function(){0===a.state.boxMatrix.length?a.createBoxMatrix():a.updateBoxMatrix()})},a.createBoxMatrix=function(){for(var e=a.state,t=e.boardWidth,o=e.boardHeight,n=e.boxSide,r=Math.floor(t/n),c=Math.floor(o/n),i=[],l=0;l<c;l++)i.push(new Array(r).fill(0));a.setState({boxMatrix:i})},a.updateBoxMatrix=function(){var e=a.state,t=e.boardWidth,o=e.boardHeight,n=e.boxMatrix,r=e.boxSide,c=Math.floor(t/r),i=Math.floor(o/r),d=Object(l.a)(n);if(c>d[0].length)for(var s=c-d[0].length,u=0;u<s;u++)d.forEach(function(e){e.push(0)});if(i>d.length)for(var b=i-d.length,g=0;g<b;g++)d.push(new Array(d[0].length).fill(0));a.setState({boxMatrix:d})},a.handleBoxClear=function(e,t){var o=Object(l.a)(a.state.boxMatrix);o[e][t]=0,a.setState({boxMatrix:o})},a.handleTileDrop=function(e,t){var o=Object(l.a)(a.state.boxMatrix),n=I.indexOf(I.find(function(t){return t.content===e}));!n>0&&(n=0),o[t.rowIndex][t.boxIndex]=n,a.setState({boxMatrix:o})},a.toggleLocked=function(){a.setState({locked:!a.state.locked})},a.boardRef=n.a.createRef(),a}return Object(g.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateBoardSize),this.updateBoardSize()}},{key:"render",value:function(){var e=this,t=this.state,a=t.boxSide,o=t.boardWidth,r=t.boardHeight,c=t.boxMatrix,l=t.background,d=t.locked;return n.a.createElement(p.a,{backend:f.c,options:N},n.a.createElement("div",{className:"mainWrapper",style:{backgroundImage:"url(./bg/".concat(l,".jpeg)")}},n.a.createElement(B,{boxSide:this.state.boxSide,setBoxSide:function(t){return e.setBoxSide(t)},background:l,setBackground:function(t){return e.setBackground(t)},tiles:I,handleTileDrop:function(t,a){return e.handleTileDrop(t,a)},locked:d,toggleLocked:this.toggleLocked}),n.a.createElement(w,{boardRef:this.boardRef,boxSide:a,boardWidth:o,boardHeight:r,boxMatrix:c,tiles:I,handleBoxClear:function(t,a){return e.handleBoxClear(t,a)},locked:d})),n.a.createElement(f.a,{generator:function(e){return M(Object(i.a)({},e,{boxSide:a}))}}))}}]),t}(n.a.Component);a(48);c.a.render(n.a.createElement(R,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.9412a3da.chunk.js.map